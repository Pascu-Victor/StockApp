using BankApi.Data;
using Common.Models; // Assuming CreditScoreHistory model is in Common.Models
using Microsoft.EntityFrameworkCore; // Required for AnyAsync

namespace BankApi.Seeders
{
    public class CreditScoreHistoriesSeeder(IConfiguration configuration, IServiceProvider serviceProvider) : RegularTableSeeder<CreditScoreHistory>(configuration, serviceProvider)
    {

        // Implemented the abstract method SeedDataAsync
        protected override async Task SeedDataAsync(ApiDbContext context)
        {
            if (await context.CreditScoreHistories.AnyAsync())
            {
                Console.WriteLine("CreditScoreHistories already exist, skipping seeding.");
                return;
            }

            // Ensure that the referenced Users (by CNP) exist.
            // This seeder should run after UsersSeeder.
            var userCnps = new[] { "1234567890123", "9876543210987", "2345678901234", "3456789012345", "4567890123456" };
            var existingUsersCnps = await context.Users.Where(u => userCnps.Contains(u.CNP)).Select(u => u.CNP).ToListAsync();

            var historiesToSeed = new List<CreditScoreHistory>();

            var rawData = new[]
            {
                // Data from the original SQL query
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 12), Score = 725 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 11), Score = 723 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 10), Score = 722 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 9), Score = 721 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 8), Score = 724 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 7), Score = 722 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 6), Score = 723 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 5), Score = 722 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 4), Score = 721 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 3), Score = 720 },

                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 12), Score = 655 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 11), Score = 653 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 10), Score = 654 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 9), Score = 652 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 8), Score = 651 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 7), Score = 653 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 6), Score = 654 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 5), Score = 652 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 4), Score = 651 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 3), Score = 650 },

                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 12), Score = 775 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 11), Score = 777 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 10), Score = 778 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 9), Score = 776 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 8), Score = 775 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 7), Score = 774 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 6), Score = 776 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 5), Score = 777 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 4), Score = 778 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 3), Score = 779 },

                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 12), Score = 605 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 11), Score = 604 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 10), Score = 603 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 9), Score = 602 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 8), Score = 603 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 7), Score = 602 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 6), Score = 601 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 5), Score = 602 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 4), Score = 603 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 3), Score = 604 },

                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 12), Score = 742 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 11), Score = 741 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 10), Score = 743 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 9), Score = 742 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 8), Score = 741 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 7), Score = 742 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 6), Score = 741 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 4), Score = 739 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 3), Score = 738 },

                new { Cnp = "1234567890123", Date = new DateTime(2025, 5, 2), Score = 719 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 30), Score = 718 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 27), Score = 717 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 25), Score = 718 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 23), Score = 719 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 21), Score = 720 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 19), Score = 721 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 17), Score = 722 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 15), Score = 723 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 13), Score = 722 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 12), Score = 721 },

                new { Cnp = "9876543210987", Date = new DateTime(2025, 5, 2), Score = 649 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 30), Score = 648 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 27), Score = 647 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 25), Score = 646 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 23), Score = 647 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 21), Score = 648 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 19), Score = 649 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 17), Score = 648 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 15), Score = 647 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 13), Score = 649 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 4, 12), Score = 650 },

                new { Cnp = "2345678901234", Date = new DateTime(2025, 5, 2), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 30), Score = 781 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 27), Score = 782 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 25), Score = 781 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 23), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 21), Score = 779 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 19), Score = 781 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 17), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 15), Score = 779 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 13), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 4, 12), Score = 779 },

                new { Cnp = "3456789012345", Date = new DateTime(2025, 5, 2), Score = 603 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 30), Score = 602 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 27), Score = 601 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 25), Score = 600 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 23), Score = 599 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 21), Score = 601 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 19), Score = 600 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 17), Score = 599 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 15), Score = 598 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 13), Score = 599 },
                new { Cnp = "3456789012345", Date = new DateTime(2025, 4, 12), Score = 600 },

                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 2), Score = 737 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 30), Score = 738 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 27), Score = 739 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 25), Score = 738 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 23), Score = 737 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 21), Score = 738 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 19), Score = 739 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 17), Score = 738 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 15), Score = 737 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 13), Score = 736 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 12), Score = 735 },

                new { Cnp = "1234567890123", Date = new DateTime(2025, 4, 1), Score = 720 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 3, 1), Score = 715 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 2, 1), Score = 725 },
                new { Cnp = "1234567890123", Date = new DateTime(2025, 1, 1), Score = 710 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 12, 1), Score = 730 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 11, 1), Score = 725 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 10, 1), Score = 735 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 9, 1), Score = 740 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 8, 1), Score = 730 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 7, 1), Score = 725 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 6, 1), Score = 715 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 5, 1), Score = 705 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 4, 1), Score = 710 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 3, 1), Score = 720 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 2, 1), Score = 725 },
                new { Cnp = "1234567890123", Date = new DateTime(2024, 1, 1), Score = 730 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 12, 1), Score = 735 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 11, 1), Score = 740 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 10, 1), Score = 735 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 9, 1), Score = 725 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 8, 1), Score = 720 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 7, 1), Score = 715 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 6, 1), Score = 710 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 5, 1), Score = 705 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 4, 1), Score = 700 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 3, 1), Score = 695 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 2, 1), Score = 690 },
                new { Cnp = "1234567890123", Date = new DateTime(2023, 1, 1), Score = 685 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 12, 1), Score = 680 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 11, 1), Score = 675 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 10, 1), Score = 670 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 9, 1), Score = 675 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 8, 1), Score = 680 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 7, 1), Score = 685 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 6, 1), Score = 690 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 5, 1), Score = 695 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 4, 1), Score = 700 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 3, 1), Score = 705 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 2, 1), Score = 710 },
                new { Cnp = "1234567890123", Date = new DateTime(2022, 1, 1), Score = 715 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 12, 1), Score = 720 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 11, 1), Score = 725 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 10, 1), Score = 730 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 9, 1), Score = 735 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 8, 1), Score = 740 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 7, 1), Score = 745 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 6, 1), Score = 750 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 5, 1), Score = 745 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 4, 1), Score = 740 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 3, 1), Score = 735 },
                new { Cnp = "1234567890123", Date = new DateTime(2021, 2, 1), Score = 730 },

                new { Cnp = "9876543210987", Date = new DateTime(2025, 3, 15), Score = 650 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 2, 15), Score = 645 },
                new { Cnp = "9876543210987", Date = new DateTime(2025, 1, 15), Score = 640 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 12, 15), Score = 635 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 11, 15), Score = 630 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 10, 15), Score = 625 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 9, 15), Score = 630 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 8, 15), Score = 635 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 7, 15), Score = 640 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 6, 15), Score = 645 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 5, 15), Score = 650 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 4, 15), Score = 655 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 3, 15), Score = 660 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 2, 15), Score = 665 },
                new { Cnp = "9876543210987", Date = new DateTime(2024, 1, 15), Score = 670 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 12, 15), Score = 675 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 11, 15), Score = 670 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 10, 15), Score = 665 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 9, 15), Score = 660 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 8, 15), Score = 655 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 7, 15), Score = 650 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 6, 15), Score = 645 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 5, 15), Score = 640 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 4, 15), Score = 635 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 3, 15), Score = 630 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 2, 15), Score = 625 },
                new { Cnp = "9876543210987", Date = new DateTime(2023, 1, 15), Score = 620 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 12, 15), Score = 615 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 11, 15), Score = 610 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 10, 15), Score = 605 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 9, 15), Score = 600 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 8, 15), Score = 605 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 7, 15), Score = 610 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 6, 15), Score = 615 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 5, 15), Score = 620 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 4, 15), Score = 625 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 3, 15), Score = 630 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 2, 15), Score = 635 },
                new { Cnp = "9876543210987", Date = new DateTime(2022, 1, 15), Score = 640 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 12, 15), Score = 645 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 11, 15), Score = 650 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 10, 15), Score = 655 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 9, 15), Score = 660 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 8, 15), Score = 665 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 7, 15), Score = 670 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 6, 15), Score = 675 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 5, 15), Score = 670 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 4, 15), Score = 665 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 3, 15), Score = 660 },
                new { Cnp = "9876543210987", Date = new DateTime(2021, 2, 15), Score = 655 },

                new { Cnp = "2345678901234", Date = new DateTime(2025, 2, 20), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2025, 1, 20), Score = 785 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 12, 20), Score = 790 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 11, 20), Score = 785 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 10, 20), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 9, 20), Score = 775 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 8, 20), Score = 770 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 7, 20), Score = 765 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 6, 20), Score = 760 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 5, 20), Score = 755 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 4, 20), Score = 750 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 3, 20), Score = 755 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 2, 20), Score = 760 },
                new { Cnp = "2345678901234", Date = new DateTime(2024, 1, 20), Score = 765 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 12, 20), Score = 770 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 11, 20), Score = 775 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 10, 20), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 9, 20), Score = 785 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 8, 20), Score = 790 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 7, 20), Score = 795 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 6, 20), Score = 800 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 5, 20), Score = 795 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 4, 20), Score = 790 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 3, 20), Score = 785 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 2, 20), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2023, 1, 20), Score = 775 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 12, 20), Score = 770 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 11, 20), Score = 765 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 10, 20), Score = 760 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 9, 20), Score = 755 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 8, 20), Score = 750 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 7, 20), Score = 745 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 6, 20), Score = 750 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 5, 20), Score = 755 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 4, 20), Score = 760 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 3, 20), Score = 765 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 2, 20), Score = 770 },
                new { Cnp = "2345678901234", Date = new DateTime(2022, 1, 20), Score = 775 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 12, 20), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 11, 20), Score = 785 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 10, 20), Score = 790 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 9, 20), Score = 795 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 8, 20), Score = 800 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 7, 20), Score = 795 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 6, 20), Score = 790 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 5, 20), Score = 785 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 4, 20), Score = 780 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 3, 20), Score = 775 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 2, 20), Score = 770 },
                new { Cnp = "2345678901234", Date = new DateTime(2021, 1, 20), Score = 765 },

                new { Cnp = "3456789012345", Date = new DateTime(2025, 1, 10), Score = 600 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 12, 10), Score = 595 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 11, 10), Score = 590 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 10, 10), Score = 585 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 9, 10), Score = 580 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 8, 10), Score = 575 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 7, 10), Score = 570 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 6, 10), Score = 565 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 5, 10), Score = 560 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 4, 10), Score = 555 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 3, 10), Score = 550 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 2, 10), Score = 555 },
                new { Cnp = "3456789012345", Date = new DateTime(2024, 1, 10), Score = 560 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 12, 10), Score = 565 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 11, 10), Score = 570 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 10, 10), Score = 575 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 9, 10), Score = 580 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 8, 10), Score = 585 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 7, 10), Score = 590 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 6, 10), Score = 595 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 5, 10), Score = 600 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 4, 10), Score = 605 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 3, 10), Score = 610 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 2, 10), Score = 615 },
                new { Cnp = "3456789012345", Date = new DateTime(2023, 1, 10), Score = 620 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 12, 10), Score = 625 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 11, 10), Score = 620 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 10, 10), Score = 615 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 9, 10), Score = 610 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 8, 10), Score = 605 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 7, 10), Score = 600 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 6, 10), Score = 595 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 5, 10), Score = 590 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 4, 10), Score = 585 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 3, 10), Score = 580 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 2, 10), Score = 575 },
                new { Cnp = "3456789012345", Date = new DateTime(2022, 1, 10), Score = 570 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 12, 10), Score = 565 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 11, 10), Score = 560 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 10, 10), Score = 555 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 9, 10), Score = 550 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 8, 10), Score = 545 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 7, 10), Score = 540 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 6, 10), Score = 545 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 5, 10), Score = 550 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 4, 10), Score = 555 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 3, 10), Score = 560 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 2, 10), Score = 565 },
                new { Cnp = "3456789012345", Date = new DateTime(2021, 1, 10), Score = 570 },
                new { Cnp = "3456789012345", Date = new DateTime(2020, 12, 10), Score = 575 },

                new { Cnp = "4567890123456", Date = new DateTime(2025, 5, 5), Score = 740 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 4, 5), Score = 735 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 3, 5), Score = 730 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 2, 5), Score = 725 },
                new { Cnp = "4567890123456", Date = new DateTime(2025, 1, 5), Score = 720 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 12, 5), Score = 715 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 11, 5), Score = 710 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 10, 5), Score = 705 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 9, 5), Score = 700 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 8, 5), Score = 695 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 7, 5), Score = 700 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 6, 5), Score = 705 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 5, 5), Score = 710 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 4, 5), Score = 715 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 3, 5), Score = 720 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 2, 5), Score = 725 },
                new { Cnp = "4567890123456", Date = new DateTime(2024, 1, 5), Score = 730 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 12, 5), Score = 735 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 11, 5), Score = 740 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 10, 5), Score = 745 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 9, 5), Score = 750 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 8, 5), Score = 755 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 7, 5), Score = 760 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 6, 5), Score = 765 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 5, 5), Score = 770 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 4, 5), Score = 765 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 3, 5), Score = 760 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 2, 5), Score = 755 },
                new { Cnp = "4567890123456", Date = new DateTime(2023, 1, 5), Score = 750 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 12, 5), Score = 745 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 11, 5), Score = 740 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 10, 5), Score = 735 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 9, 5), Score = 730 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 8, 5), Score = 725 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 7, 5), Score = 720 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 6, 5), Score = 715 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 5, 5), Score = 710 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 4, 5), Score = 705 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 3, 5), Score = 700 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 2, 5), Score = 705 },
                new { Cnp = "4567890123456", Date = new DateTime(2022, 1, 5), Score = 710 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 12, 5), Score = 715 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 11, 5), Score = 720 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 10, 5), Score = 725 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 9, 5), Score = 730 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 8, 5), Score = 735 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 7, 5), Score = 740 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 6, 5), Score = 745 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 5, 5), Score = 750 },
                new { Cnp = "4567890123456", Date = new DateTime(2021, 4, 5), Score = 755 }
            };

            foreach (var data in rawData)
            {
                if (existingUsersCnps.Contains(data.Cnp))
                {
                    historiesToSeed.Add(new CreditScoreHistory { UserCnp = data.Cnp, Date = data.Date, Score = data.Score });
                }
                else
                {
                    Console.WriteLine($"Skipping CreditScoreHistory for UserCnp: {data.Cnp} as user does not exist.");
                }
            }

            if (historiesToSeed.Count != 0)
            {
                await context.CreditScoreHistories.AddRangeAsync(historiesToSeed);
            }
            else
            {
                Console.WriteLine("No valid CreditScoreHistories to seed due to missing related users.");
            }
        }
    }
}